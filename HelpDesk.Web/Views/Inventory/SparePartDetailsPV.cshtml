@model HelpDesk.Web.Models.InventoryDTO

<div class="kt-container  kt-grid__item kt-grid__item--fluid mt-4">
    <!--Begin::Dashboard 3-->
    <!--Begin::Row-->
    <div class="row">
        <div class="col-lg-12 col-xl-12 order-lg-1 order-xl-1">
            <!--begin:: Widgets/Trends-->
            <div class="kt-portlet kt-portlet--head--noborder kt-portlet--height-fluid">
                <div class="kt-portlet__head kt-portlet__head--lg">
                    <div class="kt-portlet__head-label">
                        <span class="kt-portlet__head-icon">
                            <i class="kt-font-brand flaticon2-line-chart"></i>
                        </span>
                        <h3 class="kt-portlet__head-title">
                            Sparepart Details
                        </h3>
                    </div>
                    <a onclick="CloseDetails()" class="details-close-button btn btn-danger btn-sm btn-icon btn-circle position-absolute"><i class="la la-close"></i></a>
                </div>

                <div class="kt-portlet__body kt-portlet__body--fluid kt-portlet__body--fit">
                    <div class="kt-container  kt-grid__item kt-grid__item--fluid">
                        <div class="row">
                            <div class="col-md-12">
                                <!--begin::Form-->
                                <form class="kt-form kt-form--label-right">
                                    <div class="kt-portlet__body">
                                        <div class="table-responsive">
                                            <table class="ticket-full-details table-borderless table-sm">
                                                <tr>
                                                    <td>Spare Part</td>
                                                    <td>
                                                        :
                                                        @Model.SparePartName
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Price</td>
                                                    <td>
                                                        :
                                                        @Model.Price
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Base stock</td>
                                                    <td>:@Model.BaseQuantity </td>
                                                </tr>
                                                <tr>
                                                    <td>Total Stock</td>
                                                    <td>:@Model.Quantity</td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="kt-portlet__head">
                                        <div class="kt-portlet__head-label">
                                            <h3 class="kt-portlet__head-title">
                                                Add Consignment
                                            </h3>
                                        </div>
                                    </div>
                                    <div class="kt-portlet__body">
                                        <div class="form-group row">
                                            <div class="col-sm-4">
                                                <input class="form-control" id="txtquantity" onkeypress="return isNumberKey(event)" type="text" value="" placeholder="Enter Quantity">
                                            </div>
                                            <div class="col-sm-4">
                                                <input class="form-control" id="exampleTextarea" type="text" value="" placeholder="Enter Comments">
                                            </div>
                                            <div class="col-sm-4">
                                                <a onclick="AddConsignment()" class="btn btn-success">Submit</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="kt-portlet__head">
                                        <div class="kt-portlet__head-label">
                                            <h3 class="kt-portlet__head-title">
                                                History
                                            </h3>
                                        </div>
                                    </div>
                                    <div class="kt-portlet__body kt-portlet__body--fluid">
                                        <div class="table-responsive">
                                            <table class="table table-hover table-bordered">
                                                <thead>
                                                    <tr>
                                                        <th>Date</th>
                                                        <th>Quantity</th>
                                                        <th>Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    @if (Model.ConsignmentsList.Count() > 0)
                                                    {
                                                        foreach (var con in Model.ConsignmentsList)
                                                        {
                                                            <tr>
                                                                <td>@con.ConsignmentDate</td>
                                                                <td>@con.Quantity</td>
                                                                <td>@con.Statustxt</td>
                                                            </tr>
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </form>
                                <!--end::Form-->
                            </div>
                            <!--end::Portlet-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--end:: Widgets/Trends-->
    </div>
</div>
<input type="hidden" id="hdnSparePartId" value="@Model.SparePartId" />

<script>
     function isNumberKey(evt) {

            $('#txtmobileerror').text('');
            //var e = evt || window.event;
            var charCode = (evt.which) ? evt.which : evt.keyCode
            if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57))
                return false;

            //var myLength = $("#txtmobile").val().length;
            //if (myLength > 21) {
            //    $("#txtmobile").after('<span id="txtmobileerror" style="color:red;" class="error">Maximum Lenght 20</span>');
            //    $('#hdnMobileValidation').val('1');
            //}
            //else if (myLength < 9) {
            //    $("#txtmobile").after('<span id="txtmobileerror" style="color:red;" class="error">Minimum Lenght 10</span>');
            //    $('#hdnMobileValidation').val('1');
            //} else {

            //    $('#hdnMobileValidation').val('0');
            //}

            return true;
        }
</script>